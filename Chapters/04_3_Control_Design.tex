Achieving reaching motions with FES has proven difficult due to complexity. The goal-directed nature of reaching motions, requires different and new simulation patterns for every reach. Many different control strategies have been proposed (summary of control strategies). To accurately control reaching motions, it is necessary to treat the arm as a complete system. 




A more sophisticated controllers is needed for our upper extremity FES system, because unlike the cyclic movemenf ot the lower, upper-extremity tasks are goal directed. This means that the amplitude, speed adn direction of the motions change continuously, so the controller need to continuously calculate the stimulation patterns for a wide range of motions commanded by the user. \cite{CFF}. 
% General Idea
Veltnik and Chizeck et al. described the muscle output torque relation to the input stimulation and joint angle using a muscle model that include the muscle activation. They designed a nonlinear open-loop compensator and controlled the joint angle using a PID feedback controller. \cite{NNPID}



%% Control Method
% Feedforward
There are different control strategies used in existing FES systems. Feedforward control is commonly used in clinical practice (13,15). The output of this type of controller depends only on the user command, and not on the system performance. The advantage of this design is that it does need sesnros to measure the system output, but the disadvante is that it is unable to make corrections it he actual movmeent deviates from the desired movement. \cite{CFF}

% Feedback
Feedback control usess sensors to monitor output, so it can correct for errors in the system trajectory. Feedback is necessary in order to maintain good tracking performance in the rpesence of fatigue and any external distrubances encountered. However, inherent delays in the response of the system can cause problem to the feedback controller, especially in the case of fast movements. \cite{CFF}

Therefore a combination of feedforward and feedback control has the best results, and is the preferred control method in several FES system designs. 

The feedfoward is typically an inverse-dynamic model of the controlled system. Train an ANN to behave like the inverse-dynamic model. An ANN that includes time-delayed inputs can approximate any dynamic systems based solely on the knowledge of inputs and ouputs.

% Neural Network Control
Develop a non-modeling control controlling method. The neural network control theory is just one method to this approach.\cite{NNPID}.

Controller system. The 3-level network structure uses back-propagation. The NN was used to evaluate the stimulation current. The PID controller part was used to fine-tune the current. Supervised learning neural network. The network was designed to find the input/output coincidence relations with minimum error using a back propagation algorithm. The network controllers is trained by the NN before patient applications are begun. Only after training, the network controller can be applied to the control system. \cite{NNPID}

The designed electrical stimulating current signals are used to stimulate the patientÂ´s foot. The changing ankle joint angle value is measured. It is given as an input to the neural network. A relation between the stimulating current and the the ankle joint angle is established. The supervised learning method and back-propagation algorithm were used to inversely implement the learning modifications. Backward error propagation \cite{NNPID}.

% Iterative Learning Control
Iterative Learning Control (ILC) is another leading appraoch, and has exploited the repetitive nature of the rehabilitation process, where patients attempt the same task multiple times to promote relearning. ILC sequentially improves accuracy using fata from previous attempts to adjust the FES supplied during the next execution of the tasks, and has been succesfully used by several groups to assist movement in the lower limb (additional references) \cite{IOL}.

The ILC structura has minimial parameters that can be tuned to compromise performance and robustness in an intuitive manner, including stipulation of convergence and trial-to-trial control effort. When combined with input-output linearization these properties can be set for each joint independently, and hence generalize to arbitrary DOF. \cite{IOL}

ILC is applicable to systems which repeatedly track a fixed reference signal over a finite time interval, termed a trial. 
After each trial, the system is reset to the same initial condidition, and previous trial data are used to modify the control input ot reduce the error in the subsequent trial. ILC is often applied in combination with a feedback controller to ensure disturbance rejection and baseline tracking perforamnce. All ILC systems are subject o iteration varying disturbance and modeling uncertainty. The effects of model uncerstainty results in the input-output linearization action producing a system that does not equate to G(s). 




It is difficult to establish the control parameters for these systems and new parameters must be reestablished for each subject. The parameters are not always the same even for the same subject under different circumstances. The traditional control theory, which first requests a mathematical model for the controlled system, is not applicable. \cite{NNPID}.